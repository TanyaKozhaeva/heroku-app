<div class="payments-block">
<form class="form payments-block__form" name="paymentForm" (ngSubmit)="paymentForm.valid && makeTransaction()" #paymentForm="ngForm" novalidate>
  <label> Send from:
    <select class="form__input" name="sourceName" [(ngModel)]="transaction.sourceName" #sourceName="ngModel">
    <option *ngFor="let a of accounts; let i='index'" value="{{ a }}" class="card-option">
      <span class="card-option__num">{{a.number}}</span>
      <span class="card-option__num">{{a.amount}}</span>
      <span class="card-option__num">{{a.currency}}</span>
    </option>
  </select>
</label>
<label> Recipient:
  <select class="form__input" name="destinationName" [(ngModel)]="transaction.destinationName" #destinationName="ngModel">
      <option *ngFor="let a of accounts" value="{{ a.number }}" class="card-option">
        <span class="card-option__num">{{a.number}}</span>
        <span class="card-option__num">{{a.amount}}</span>
      <span class="card-option__num">{{a.currency}}</span>
      </option>
  </select>
</label>
<div class="form-group">
  <input type="number" name="transactionAmount" class="form__input" [(ngModel)]="transaction.sum" #transactionAmount="ngModel"
  placeholder="Amount"
  required
  #transactionAmount>
  <app-errors [control]="transactionAmount"></app-errors>
  </div>
  <!-- value="{{account}}" -->
  <input type="text" name="transactionCurrency" class="form__input" [(ngModel)]="transaction.currency" #transactionCurrency="ngModel" value="{{transaction.currency}}">
  <button type="submit"
  [disabled]="!paymentForm.valid"
  class="link link_color_main">Transfer</button>
</form>

<div class="payments-block__transactions transactions">
<div class="transactions__cards-list list" *ngFor="let c of cards">
  <div class="card-item list__item">
    <span class="card-item__info">
      <span class="card-item__name">{{c.name}}</span>
      <span class="card-item__num">{{c.number}}</span>
    </span>
      <span class="card-item__sum">{{c.sum}} UAH</span>
  </div>
  <!-- <button class="payments-block__cards-btn link" (click)="getTransactions()">Get transactions</button> -->
  <form name="dateForm" #dateForm="ngForm" (ngSubmit)="dateForm.valid && transactionsFilter(dateFrom, dateTo)" class="transactions__form form">
      <div class="transactions__date-form-group"
      ngModelGroup="dateGroup"
      #dateGroup="ngModelGroup"
      dateValidator
      from="dateFrom"
      to="dateTo">
        <!-- <input type="date" name="dateFrom" #dateFrom ngModel [value]={{currentDate | date: 'dd.MM.yyyy'}}> -->
        <!-- <input type="date" name="dateFrom" [(ngModel)]="dateFrom"> -->
        <input type="date" name="dateFrom" #dateFrom [ngModel]="currentDate | date: 'dd.MM.yyyy'" (ngModelChange)="currentDate = $event">
        <input type="date" name="dateTo" #dateTo ngModel>
        <app-errors [control]="dateGroup"></app-errors>
        <button class="link link_color_main" [disabled]="!dateForm.valid">Filter period</button>
      </div>
    </form>
    <table class="transactions__list table">
      <thead class="table__head">
        <tr class="table__row">
          <th class="table__cell table__item-date">Date</th>
          <th class="table__cell table__item-recepient">Recipient</th>
          <th class="table__cell table__item-sum">Sum</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="!transactions" class="table__row">Select a date</tr>
        <tr *ngFor="let t of transactions" class="table__row">
          <td class="table__cell">{{t.date | date: 'dd.MM.yy'}}</td>
          <td class="table__cell">{{t.destinationName}}</td>
          <td class="table__cell">{{t.sum}}</td>
        </tr>
      </tbody>

    </table>

      <!-- <ul *ngFor="let t of transactions" class="transactions__list list">
        <li class="list__item transaction">
        <span class="transaction__date">{{t.date | date: 'dd.MM.yy'}}</span>
        <span class="transaction__sours">{{t.destinationName}}</span>
        <span class="transaction__sum">{{t.sum}}</span>
      </li>
      </ul> -->
    </div>
    </div>
</div>
