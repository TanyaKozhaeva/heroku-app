<div class="payments-block">

<form class="form payments-block__form"
name="paymentForm"
(ngSubmit)="paymentForm.valid && makePayment()"
#paymentForm="ngForm" novalidate>

  <label class="payments-block__form-label" for="sourceName"> Send from:</label>
    <select class="form__input form__input_color_dark"
    name="sourceName"
    [(ngModel)]="transaction.sourceName"
    #sourceName="ngModel"
    id="sourceName">
    <option *ngFor="let a of accounts" value="{{ a.number }}" class="">
      <span class="">{{a.number}}</span>
      <span class="">{{a.amount}}</span>
      <span class="">{{a.currency}}</span>
    </option>
  </select>
  <fieldset>
    <legend class="payments-block__form-label">Recipient:</legend>
      <div *ngIf="!inputField">
        <select class="form__input form__input_color_dark"
          name="recipientAccount"
          #recipientAccount="ngModel"
          [(ngModel)]="transaction.destinationName"
          required>
            <option *ngFor="let a of accounts" value="{{ a.number }}" class="">
              <span class="">{{a.number}}</span>
              <span class="">{{a.amount}}</span>
              <span class="">{{a.currency}}</span>
            </option>
        </select>
        <app-errors [control]="recipientAccount"></app-errors>
      </div>

      <div *ngIf="inputField">
        <input type="text" class="form__input form__input_color_dark"
          name="recipientManualInput"
          #recipientManualInput="ngModel"
          placeholder="Input the recipient"
          [(ngModel)]="transaction.destinationName"
          required
          cardValidator
          [textMask]="{mask: numberMask}">
        <app-errors [control]="recipientManualInput"></app-errors>
          </div>

<div class="form__switch-box">
  <button class="form__switch-input-btn" *ngIf="!inputField" (click)="enteringRecipientNumber()">Input the recipient`s card number</button>
  <button class="form__switch-input-btn" *ngIf="inputField" (click)="enteringRecipientNumber()">Select from account list</button>
</div>

        </fieldset>



<div class="payments-block__amount-input">
  <label class="payments-block__form-label" for="transactionAmount"> Amount:</label>
  <input type="number"
  class="form__input form__input_color_dark"
  name="transactionAmount"
  [(ngModel)]="transaction.sum"
  #transactionAmount="ngModel"
  id="transactionAmount"
  required>
<input type="text" class="form__input form__input_color_dark"
name="transactionCurrency"
[(ngModel)]="transaction.currency"
#transactionCurrency="ngModel"
disabled>
  <app-errors [control]="transactionAmount"></app-errors>
  </div>




  <button type="submit"
  [disabled]="!paymentForm.valid"
  class="form__btn link link_color_main">Transfer</button>
</form>

<!-- <div class="payments-block__transactions transactions">
<div class="transactions__cards-list list" *ngFor="let c of cards">
  <div class="card-item list__item">
    <span class="card-item__info">
      <span class="card-item__name">{{c.name}}</span>
      <span class="card-item__num">{{c.number}}</span>
    </span>
      <span class="card-item__sum">{{c.sum}}</span>
      <span class="card-item__currency">{{c.currency}}</span>
  </div> -->
  <!-- <button class="payments-block__cards-btn link" (click)="getTransactions()">Get transactions</button> -->
  <!-- <form name="dateForm" #dateForm="ngForm" (ngSubmit)="dateForm.valid && transactionsFilter(dateFrom, dateTo)" class="transactions__form form">
      <div class="transactions__date-form-group"
      ngModelGroup="dateGroup"
      #dateGroup="ngModelGroup"
      dateValidator
      from="dateFrom"
      to="dateTo">
              <input type="date" name="dateFrom" #dateFrom [ngModel]="currentDate | date: 'dd.MM.yyyy'" (ngModelChange)="currentDate = $event">
        <input type="date" name="dateTo" #dateTo ngModel>
        <app-errors [control]="dateGroup"></app-errors>
        <button class="link link_color_main" [disabled]="!dateForm.valid">Filter period</button>
      </div>
    </form>
    <table class="transactions__list table">
      <thead class="table__head">
        <tr class="table__row">
          <th class="table__cell table__item-date">Date</th>
          <th class="table__cell table__item-source">Soutce</th>
          <th class="table__cell table__item-recepient">Recipient</th>
          <th class="table__cell table__item-sum">Sum</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="!transactions" class="table__row">Select a date</tr>
        <tr *ngFor="let t of transactions" class="table__row">
          <td class="table__cell">{{t.date | date: 'dd.MM.yy'}}</td>
          <td class="table__cell">{{t.sourceName}}</td>
          <td class="table__cell">{{t.destinationName}}</td>
          <td class="table__cell">{{t.sum}}</td>
        </tr>
      </tbody>

    </table> -->
    <!-- </div> -->
    <!-- </div> -->
    <app-back-btn></app-back-btn>
    <button class="payments-block__link text text_color_main" (click)="cansel()">Go to Main</button>
</div>
